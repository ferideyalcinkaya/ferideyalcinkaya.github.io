<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Flower Game</title>
  <link rel="stylesheet" href="game.css">
  
</head>
<body>

  <div id="gameContainer">

    <!-- GiriÅŸ MÃ¼ziÄŸi -->
    <audio id="introMusic" src="intromusic.mp3"></audio>

    <!--Oyun ici MÃ¼zikler-->
    <audio id="waterSound" src="water.mp3" loop></audio>
    <audio id="deathSound" src="death.mp3" loop></audio>

    <!--Seviye Gecis MÃ¼zigi-->
    <audio id="goodJobSound" src="clap.mp3"></audio>

    <!-- Zorunlu BaÅŸlat Butonu -->
    <div id="startOverlay" style="
      position:fixed;
      top:0; left:0;
      width:100%; height:100%;
      background:white;
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:9999;
    ">
      <button id="startButton" style="font-size:2rem;">BAÅLAT</button>
    </div>

    <!-- Arka Plan -->
    <canvas id="backgroundCanvas" width="900" height="600"></canvas>

    <!-- Ana MenÃ¼ Ä°cerigi-->
    <div class="ui hidden" id="mainMenu">
      <div class="title">Ã‡iÃ§ek Oyunu</div>
      <button id="playButton">PLAY</button>
      <div class="how-to-play">NasÄ±l OynanÄ±r?</div>
    </div>

    <!-- NasÄ±l OynanÄ±r kutusu -->
    <div id="howToPlayPopup" class="popup hidden"> 
      <h2>NasÄ±l OynanÄ±r?</h2>
      <ul>
        <li><b>AmaÃ§:</b> Ã‡iÃ§ekleri istenen hale getirmek.</li>
        <li><b>Hareket:</b> YÃ¶n tuÅŸlarÄ±yla (â† â†’) oyuncuyu hareket ettirin.</li>
        <li><b>Haklar:</b> Verilen haklar Ã¼zerinde yalnÄ±zca saÄŸa doÄŸru ilerlenir. Her hak sadece bir kez kullanÄ±lÄ±r.</li>
        <li>Ã‡iÃ§ekler Ã¼zerinde saÄŸ ve sola hareket edilebilir.</li>
        <li>Hedef buket ile eÅŸleÅŸince seviye geÃ§ilir!</li>
      </ul>
      <button id="closeHowTo">Kapat</button>
    </div>

    <!-- Oyun EkranÄ± -->
    <div id="gameScreen" class="hidden">
      <div id="gameInfo">
        <h2>Oyun BaÅŸlÄ±yor!</h2>
        <div id="levelIndicator">Level 1</div>
        <div id="coinCounter">ğŸ’° 0</div> <!-- Coin SayacÄ± -->
      </div>

      <div id="targetDisplay">
        <strong>Hedef</strong>
        <div id="targetBubble"></div>
      </div>

      <div id="playerFlowers"></div>
      <div id="rightsContainer"></div>
    </div>

    <!-- Level geÃ§iÅŸ efekti -->
    <div id="levelTransition" class="hidden">Level TamamlandÄ±! ğŸ‰</div>

  </div> 

  <!-- Scripts -->
  <script>
    document.getElementById("startButton").addEventListener("click", () => {
      const introMusic = document.getElementById("introMusic");
      introMusic.play().catch(err => console.log("MÃ¼zik Ã§alÄ±namadÄ±:", err));
      document.getElementById("startOverlay").style.display = "none";
      document.getElementById("mainMenu").classList.remove("hidden");
    });
  </script>
  <script src="game.js"></script> <!--Js dahil edildi.-->
  <div id="coinCounter" class="hidden">ğŸ’° 0</div>

  <!-- Oyun Sonu MaÄŸazasÄ± -->
   
  <div id="shopOverlay" class="hidden" style="
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.6);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
">
  <div style="
    background: white;
    padding: 30px;
    border-radius: 16px;
    text-align: center;
    max-width: 400px;
    width: 90%;
    box-shadow: 0 0 20px rgba(0,0,0,0.3);
  ">
    <h2>MaÄŸaza</h2>
    <p>Kalan coin: <span id="shopCoins">0</span></p>

    <div>
      <label><input type="checkbox" class="shopOption" data-name="Ã‡iÃ§ek" data-cost="40">  Ã‡iÃ§ek (40)</label><br>
      <label><input type="checkbox" class="shopOption" data-name="Su" data-cost="20">  Su (25)</label><br>
      <label><input type="checkbox" class="shopOption" data-name="Elbise" data-cost="30">  Elbise (30)</label>

    </div>

    <button id="shopConfirmButton" style="margin-top: 20px; font-size: 16px;">SatÄ±n Al</button>
    <p id="shopResult" class="hidden" style="margin-top: 15px; font-weight: bold;"></p>

  </div>
</div>


</body>
</html>